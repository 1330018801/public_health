{% extends 'ehr/personal_info_base.html' %}

{% block gender %}{{ form.gender.value }}{% endblock %}
{% block birthday %}{{ form.birthday.value | date:"Y-m-d"}}{% endblock %}
{% block identity %}{{ form.identity.value }}{% endblock %}
{% block work_company %}{{ form.work_company.value }}{% endblock %}
{% block phone %}{{ form.phone.value }}{% endblock %}
{% block contact_name %}{{ form.contact_name.value }}{% endblock %}
{% block contact_phone %}{{ form.contact_phone.value }}{% endblock %}
{% block residence_type %}{{ form.residence_type.value }}{% endblock %}
{% block nation %}{{ form.nation.value }}
    {% ifequal form.nation.value '少数民族' %}
        {{ form.nation_extra.value }}
    {% endifequal %}
{% endblock %}
{% block blood_type %}
    {% if form.blood_type.value %}
        {{ form.blood_type.value }}
    {% endif %}
{% endblock %}
{% block blood_rh %}{% if form.blood_rh.value %}/&nbsp;&nbsp;RH阴性：{{ form.blood_rh.value }}{% endif %}{% endblock %}
{% block education %}{{ form.education.value }}{% endblock %}
{% block occupation %}{{ form.occupation.value }}{% endblock %}
{% block marriage %}{{ form.marriage.value }}{% endblock %}

{% block payment_way %}
    {% for item in form.payment_way.value %}
        {% if forloop.last %}
            {{ item }}
            {% ifequal item '其他' %}
                {{ form.payment_way_extra.value }}
            {% endifequal %}
        {% else %}
            {{ item }}/
        {% endif %}
    {% endfor %}
{% endblock %}

{% block allergy_history %}
    {% for item in form.allergy_history.value %}
        {{ item }}&nbsp;&nbsp;
    {% endfor %}
    {% if '其他' in form.allergy_history.value %}
        {{ form.allergy_history_yes_extra.value }}
    {% endif %}
{% endblock %}

{% block expose_history %}
    {% for item in form.expose_history.value %}
        {{ item }}&nbsp;&nbsp;
    {% endfor %}
{% endblock %}

{% block disease_history %}
    {% for item in form.disease_history.value %}
        {{ item }}
        {% ifequal item '高血压' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_2.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '糖尿病' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_3.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '冠心病' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_4.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '慢性阻塞性肺疾病' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_5.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '恶性肿瘤' %}
            &nbsp;{{ form.disease_history_cancer.value }}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_6.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '脑卒中' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_7.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '重性精神疾病' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_8.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '结核病' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_9.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '肝炎' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_10.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '其他法定传染病' %}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_11.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '职业病' %}
            &nbsp;{{ form.disease_history_occupational.value }}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_12.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
        {% ifequal item '其他' %}
            &nbsp;{{ form.disease_history_extra.value }}
            &nbsp;&nbsp;确诊时间：{{ form.diagnose_date_13.value | date:"Y-m-d"}}&nbsp;&nbsp;&nbsp;&nbsp;
        {% endifequal %}
    {% endfor %}
{% endblock %}

{% block surgery_history %}
    {{ form.surgery_history.value }}
    {% ifequal form.surgery_history.value '有' %}
        {% if form.surgery_1_name.value %}
            ：名称1&nbsp;&nbsp;{{ form.surgery_1_name.value }}&nbsp;&nbsp;&nbsp;时间&nbsp;&nbsp;;{{ form.surgery_1_date.value | date:"Y-m-d"}}
        {% endif %}
        {% if form.surgery_2_name.value %}
            &nbsp;&nbsp;&nbsp;&nbsp;名称2&nbsp;&nbsp;{{ form.surgery_2_name.value }}&nbsp;&nbsp;&nbsp;时间&nbsp;&nbsp;{{ form.surgery_2_date.value | date:"Y-m-d"}}
        {% endif %}
    {% endifequal %}
{% endblock %}

{% block injury_history %}
    {{ form.injury_history.value }}
    {% ifequal form.injury_history.value '有' %}
        {% if form.injury_1_name.value %}
            ：名称1&nbsp;&nbsp;{{ form.injury_1_name.value }}&nbsp;&nbsp;&nbsp;时间&nbsp;&nbsp;{{ form.injury_1_date.value | date:"Y-m-d"}}
        {% endif %}
        {% if form.injury_2_name.value %}
            &nbsp;&nbsp;&nbsp;&nbsp;名称2&nbsp;&nbsp;{{ form.injury_2_name.value }}&nbsp;&nbsp;&nbsp;时间&nbsp;&nbsp;{{ form.injury_2_date.value | date:"Y-m-d"}}
        {% endif %}
    {% endifequal %}
{% endblock %}

{% block transfusion_history %}
    {{ form.transfusion_history.value }}
    {% ifequal form.transfusion_history.value '有' %}
        {% if form.transfusion_1_reason.value %}
            ：原因1&nbsp;&nbsp;{{ form.transfusion_1_reason.value }}&nbsp;&nbsp;&nbsp;时间&nbsp;&nbsp;{{ form.transfusion_1_date.value | date:"Y-m-d"}}
        {% endif %}
        {% if form.transfusion_2_reason.value %}
            &nbsp;&nbsp;&nbsp;&nbsp;原因2&nbsp;&nbsp;{{ form.transfusion_2_reason.value }}&nbsp;&nbsp;&nbsp;时间&nbsp;&nbsp;{{ form.transfusion_2_date.value | date:"Y-m-d"}}
        {% endif %}
    {% endifequal %}
{% endblock %}


{% block family_history_father %}
    {% for item in form.family_history_father.value %}
        {% if forloop.last %}
            {{ item }}
        {% else %}
            {{ item }}/
        {% endif %}
    {% endfor %}
    {% if '其他' in form.family_history_father.value %}
        {{ form.family_history_father_extra.value }}
    {% endif %}
{% endblock %}

{% block family_history_mother %}
    {% for item in form.family_history_mother.value %}
        {% if forloop.last %}
            {{ item }}
        {% else %}
            {{ item }}/
        {% endif %}
    {% endfor %}
    {% if '其他' in form.family_history_mother.value %}
        {{ form.family_history_mother_extra.value }}
    {% endif %}
{% endblock %}

{% block family_history_sibling %}
    {% if form.family_history_sibling.value %}
        {% for item in form.family_history_sibling.value %}
            {% if forloop.last %}
                {{ item }}
            {% else %}
                {{ item }}/
            {% endif %}
        {% endfor %}
        {% if '其他' in form.family_history_sibling.value %}
            {{ form.family_history_sibling_extra.value }}
        {% endif %}
    {% endif %}
{% endblock %}

{% block family_history_children %}
    {% if form.family_history_children.value %}
        {% for item in form.family_history_children.value %}
            {% if forloop.last %}
                {{ item }}
            {% else %}
                {{ item }}/
            {% endif %}
        {% endfor %}
        {% if '其他' in form.family_history_children.value %}
            {{ form.family_history_children_extra.value }}
        {% endif %}
    {% endif %}
{% endblock %}

{% block genetic_disease %}
    {{ form.genetic_disease.value }}
    {% ifequal form.genetic_disease.value '有' %}
        ：疾病名称&nbsp;&nbsp;{{ form.genetic_disease_yes.value }}
    {% endifequal %}
{% endblock %}

{% block disability %}
    {% for item in form.disability.value %}
        {% if forloop.last %}
            {{ item }}
        {% else %}
            {{ item }}/
        {% endif %}
    {% endfor %}
    {% if '其他残疾' in form.disability.value %}
        {{ form.disability_extra.value }}
    {% endif %}
{% endblock %}

{% block surroundings_kitchen_exhaust %}
    {% if form.surroundings_kitchen_exhaust.value != None %}
        {{ form.surroundings_kitchen_exhaust.value }}
    {% endif %}
{% endblock %}

{% block surroundings_fuel_type %}
    {% if form.surroundings_fuel_type.value != None %}
        {{ form.surroundings_fuel_type.value }}
    {% endif %}
{% endblock %}

{% block surroundings_water %}
    {% if form.surroundings_water.value != None %}
        {{ form.surroundings_water.value }}
    {% endif %}
{% endblock %}

{% block surroundings_toilet %}
    {% if form.surroundings_toilet.value != None %}
        {{ form.surroundings_toilet.value }}
    {% endif %}
{% endblock %}

{% block surrounding_livestock_fence %}
    {% if form.surrounding_livestock_fence.value != None %}
        {{ form.surrounding_livestock_fence.value }}
    {% endif %}
{% endblock %}
